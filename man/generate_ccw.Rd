% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_ccw.R
\name{generate_ccw}
\alias{generate_ccw}
\title{Generate clone censor weights (CCW) on the long data.frame}
\usage{
generate_ccw(df, predvars)
}
\arguments{
\item{df}{A data.frame with one row per clone per observation period as returned by \code{\link[=cast_clones_to_long]{cast_clones_to_long()}}}

\item{predvars}{The variables that will be used to derive weights (subset of those in your data.frame originally). At least one covariate must be used.}
}
\value{
The same data.frame with weights added.
}
\description{
Currently, the only way to generate weights is via multivariable Cox, as described in Maringe et al. 2020
}
\examples{

# Load the toy dataset
data(dummy_data)

# Create clones
clones <- create_clones(dummy_data, 
                        id = "id", 
                        event = "event", 
                        time_to_event = "timetoevent", 
                        exposure = "exposure", 
                        time_to_exposure = "timetoexposure", 
                        ced_window = 100)

clones_long <- cast_clones_to_long(clones)
clones_long_w <- generate_ccw(clones_long, predvars = c("cov1"))

}
\references{
Maringe, Camille, et al. "Reflection on modern methods: trial emulation in the presence of immortal-time bias. Assessing the benefit of major surgery for elderly lung cancer patients using observational data." International journal of epidemiology 49.5 (2020): 1719-1729.
}
